"use strict";(self.webpackChunk_33book=self.webpackChunk_33book||[]).push([[4815],{4815:(l,t,o)=>{o.r(t),o.d(t,{default:()=>y});var e=o(6185),s=o(7514),h=o(1610),m=o(9090),c=o(8178),a=o(5489),p=o(3340),r=o(5510);const i=["/","/doc/","/sol/","/tmpl/","/tmpl/bignum.html","/tmpl/lca.html","/tmpl/seg.html","/tmpl/sort.html","/doc/cpp/","/doc/cpp/lesson1.html","/doc/cpp/lesson2.html","/doc/cpp/lesson3.html","/doc/cpp/stl_container.html","/sol/c/","/sol/p/13420.html","/sol/p/D0159.html","/sol/p/D0357.html","/sol/p/D0358.html","/sol/p/D0359.html","/sol/p/D0360.html","/sol/p/D0361.html","/sol/p/D0362.html","/sol/p/D0363.html","/sol/p/D0364.html","/sol/p/D0365.html","/sol/p/D0366.html","/sol/p/D0367.html","/sol/p/D0376.html","/sol/p/D0377.html","/sol/p/D0416.html","/sol/p/D0417.html","/sol/p/D0418.html","/sol/p/LX0002.html","/sol/p/LX0021.html","/sol/p/LX0024.html","/sol/p/LX0025.html","/sol/p/LX0026.html","/sol/p/LX0027.html","/sol/p/LX0028.html","/sol/p/LX0029.html","/sol/p/LX0030.html","/sol/p/LX0032.html","/sol/p/LX0033.html","/sol/p/LX0034.html","/sol/p/LX0035.html","/sol/p/LX0036.html","/sol/p/LX0037.html","/sol/p/LX0038.html","/sol/p/LX0039.html","/sol/p/LX0041.html","/sol/p/LX0042.html","/sol/p/LX0043.html","/sol/p/LX0044.html","/sol/p/P1003.html","/sol/p/P1005.html","/sol/p/P1006.html","/sol/p/P1019.html","/sol/p/P1032.html","/sol/p/P1036.html","/sol/p/P10505.html","/sol/p/P1074.html","/sol/p/P1092.html","/sol/p/P1098.html","/sol/p/P1102.html","/sol/p/P1111.html","/sol/p/P11138.html","/sol/p/P11227.html","/sol/p/P11228.html","/sol/p/P11229.html","/sol/p/P11230.html","/sol/p/P11231.html","/sol/p/P11232.html","/sol/p/P11233.html","/sol/p/P1141.html","/sol/p/P1156.html","/sol/p/P1163.html","/sol/p/P1168.html","/sol/p/P1197.html","/sol/p/P1198.html","/sol/p/P1219.html","/sol/p/P1276.html","/sol/p/P1281.html","/sol/p/P1282.html","/sol/p/P1311.html","/sol/p/P1328.html","/sol/p/P1330.html","/sol/p/P1379.html","/sol/p/P1437.html","/sol/p/P1439.html","/sol/p/P1503.html","/sol/p/P1514.html","/sol/p/P1536.html","/sol/p/P1542.html","/sol/p/P1577.html","/sol/p/P1603.html","/sol/p/P1784.html","/sol/p/P1843.html","/sol/p/P1892.html","/sol/p/P1896.html","/sol/p/P1908.html","/sol/p/P1930.html","/sol/p/P1941.html","/sol/p/P1957.html","/sol/p/P1972.html","/sol/p/P2060.html","/sol/p/P2536.html","/sol/p/P2580.html","/sol/p/P2602.html","/sol/p/P2615.html","/sol/p/P2657.html","/sol/p/P2671.html","/sol/p/P2882.html","/sol/p/P2960.html","/sol/p/P3052.html","/sol/p/P3375.html","/sol/p/P3389.html","/sol/p/P3718.html","/sol/p/P3952.html","/sol/p/P3955.html","/sol/p/P3958.html","/sol/p/P4145.html","/sol/p/P4377.html","/sol/p/P4667.html","/sol/p/P4799.html","/sol/p/P4924.html","/sol/p/P4933.html","/sol/p/P5005.html","/sol/p/P5020.html","/sol/p/P5250.html","/sol/p/P5490.html","/sol/p/P5686.html","/sol/p/P6370.html","/sol/p/P7073.html","/sol/p/P7404.html","/sol/p/P7912.html","/sol/p/","/sol/c/YACS/2024_12_C.html","/sol/c/atcoder/abc385.html","/sol/c/atcoder/abc387.html","/sol/c/atcoder/abc389.html","/sol/c/atcoder/abc390.html","/sol/c/atcoder/abc391.html","/sol/c/atcoder/abc408.html","/sol/c/atcoder/dp.html","/sol/c/dmy/r12.html","/sol/c/wotojo_cspj16/1.html","/sol/c/wotojo_cspj16/10.html","/sol/c/wotojo_cspj16/11.html","/sol/c/wotojo_cspj16/12.html","/sol/c/wotojo_cspj16/13.html","/sol/c/wotojo_cspj16/14.html","/sol/c/wotojo_cspj16/15.html","/sol/c/wotojo_cspj16/16.html","/sol/c/wotojo_cspj16/2.html","/sol/c/wotojo_cspj16/3.html","/sol/c/wotojo_cspj16/4.html","/sol/c/wotojo_cspj16/5.html","/sol/c/wotojo_cspj16/6.html","/sol/c/wotojo_cspj16/7.html","/sol/c/wotojo_cspj16/8.html","/sol/c/wotojo_cspj16/9.html","/sol/c/wotojo_cspj16/","/sol/c/wotojo_weekly/0.html","/sol/c/wotojo_weekly/1.html","/sol/c/wotojo_weekly/10.html","/sol/c/wotojo_weekly/11.html","/sol/c/wotojo_weekly/12.html","/sol/c/wotojo_weekly/13.html","/sol/c/wotojo_weekly/14.html","/sol/c/wotojo_weekly/15.html","/sol/c/wotojo_weekly/16.html","/sol/c/wotojo_weekly/17.html","/sol/c/wotojo_weekly/18.html","/sol/c/wotojo_weekly/19.html","/sol/c/wotojo_weekly/2.html","/sol/c/wotojo_weekly/20.html","/sol/c/wotojo_weekly/21.html","/sol/c/wotojo_weekly/22.html","/sol/c/wotojo_weekly/23.html","/sol/c/wotojo_weekly/24.html","/sol/c/wotojo_weekly/25.html","/sol/c/wotojo_weekly/26.html","/sol/c/wotojo_weekly/27.html","/sol/c/wotojo_weekly/28.html","/sol/c/wotojo_weekly/29.html","/sol/c/wotojo_weekly/3.html","/sol/c/wotojo_weekly/30.html","/sol/c/wotojo_weekly/31.html","/sol/c/wotojo_weekly/32.html","/sol/c/wotojo_weekly/33.html","/sol/c/wotojo_weekly/34.html","/sol/c/wotojo_weekly/35.html","/sol/c/wotojo_weekly/4.html","/sol/c/wotojo_weekly/5.html","/sol/c/wotojo_weekly/6.html","/sol/c/wotojo_weekly/7.html","/sol/c/wotojo_weekly/8.html","/sol/c/wotojo_weekly/9.html","/sol/c/wotojo_weekly/","/sol/c/wotojo_weekly/new_year.html","/404.html","/sol/c/YACS/","/sol/c/atcoder/","/sol/c/dmy/"],u=(0,s.Mjh)("SLIMSEARCH_QUERY_HISTORY",[]),n=l=>i[l.id]+("anchor"in l?`#${l.anchor}`:""),{resultHistoryCount:w}=p.o,v=(0,s.Mjh)("SLIMSEARCH_RESULT_HISTORY",[]);var y=(0,c.pM)({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:t}){const o=(0,a.rd)(),i=(0,a.Zv)(),y=(0,e.s5)(p.l),{enabled:d,addQueryHistory:P,queryHistories:j,removeQueryHistory:_}=(()=>{const{queryHistoryCount:l}=p.o,t=l>0;return{enabled:t,queryHistories:u,addQueryHistory:o=>{t&&(u.value=Array.from(new Set([o,...u.value.slice(0,l-1)])))},removeQueryHistory:l=>{u.value=[...u.value.slice(0,l),...u.value.slice(l+1)]}}})(),{enabled:k,resultHistories:g,addResultHistory:L,removeResultHistory:D}=(()=>{const l=w>0;return{enabled:l,resultHistories:v,addResultHistory:t=>{if(l){const l={link:n(t),display:t.display};"header"in t&&(l.header=t.header),v.value=[l,...v.value.slice(0,w-1)]}},removeResultHistory:l=>{v.value=[...v.value.slice(0,l),...v.value.slice(l+1)]}}})(),H=d||k,f=(0,m.lW)(l,"queries"),{results:X,isSearching:b}=(l=>{const t=(0,p.u)(),o=(0,a.Zv)(),e=(0,a.BV)(),s=(0,m.KR)(0),r=(0,c.EW)(()=>s.value>0),i=(0,m.IJ)([]);return(0,c.sV)(()=>{const{search:m,terminate:a}=(0,p.c)(),r=(0,h.Q0)(l=>{const{resultsFilter:h=l=>l,querySplitter:c,suggestionsFilter:a,...p}=t.value;l?(s.value+=1,m(l,o.value,p).then(t=>h(t,l,o.value,e.value)).then(l=>{s.value-=1,i.value=l}).catch(l=>{console.warn(l),s.value-=1,s.value||(i.value=[])})):i.value=[]},p.o.searchDelay-p.o.suggestDelay,{maxWait:5e3});(0,c.wB)([l,o],([l])=>{r(l.join(" "))},{immediate:!0}),(0,c.hi)(()=>{a()})}),{isSearching:r,results:i}})(f),Q=(0,m.Kh)({isQuery:!0,index:0}),C=(0,m.KR)(0),R=(0,m.KR)(0),S=(0,c.EW)(()=>H&&(j.value.length>0||g.value.length>0)),x=(0,c.EW)(()=>X.value.length>0),q=(0,c.EW)(()=>X.value[C.value]||null),A=l=>l.map(l=>(0,e.Kg)(l)?l:(0,c.h)(l[0],l[1])),E=l=>{if("customField"===l.type){const t=p.a[l.index]||"$content",[o,s=""]=(0,e.Qd)(t)?t[i.value].split("$content"):t.split("$content");return l.display.map(l=>(0,c.h)("div",A([o,...l,s])))}return l.display.map(l=>(0,c.h)("div",A(l)))},M=()=>{C.value=0,R.value=0,t("updateQuery",""),t("close")};return(0,s.MLh)("keydown",e=>{if(l.isFocusing)if(x.value){if("ArrowUp"===e.key)R.value>0?R.value-=1:(C.value=C.value>0?C.value-1:X.value.length-1,R.value=q.value.contents.length-1);else if("ArrowDown"===e.key)R.value<q.value.contents.length-1?R.value+=1:(C.value=C.value<X.value.length-1?C.value+1:0,R.value=0);else if("Enter"===e.key){const t=q.value.contents[R.value];P(l.queries.join(" ")),L(t),o.push(n(t)),M()}}else if(k)if("ArrowUp"===e.key)(()=>{const{isQuery:l,index:t}=Q;0===t?(Q.isQuery=!l,Q.index=l?g.value.length-1:j.value.length-1):Q.index=t-1})();else if("ArrowDown"===e.key)(()=>{const{isQuery:l,index:t}=Q;t===(l?j.value.length-1:g.value.length-1)?(Q.isQuery=!l,Q.index=0):Q.index=t+1})();else if("Enter"===e.key){const{index:l}=Q;Q.isQuery?(t("updateQuery",j.value[l]),e.preventDefault()):(o.push(g.value[l].link),M())}}),(0,c.wB)([C,R],()=>{document.querySelector(".slimsearch-result-list-item.active .slimsearch-result-item.active")?.scrollIntoView(!1)},{flush:"post"}),()=>(0,c.h)("div",{class:["slimsearch-result-wrapper",{empty:l.queries.length?!x.value:!S.value}],id:"slimsearch-results"},l.queries.length?b.value?(0,c.h)(r.S,{hint:y.value.searching}):x.value?(0,c.h)("ul",{class:"slimsearch-result-list"},X.value.map(({title:t,contents:o},e)=>{const s=C.value===e;return(0,c.h)("li",{class:["slimsearch-result-list-item",{active:s}]},[(0,c.h)("div",{class:"slimsearch-result-title"},t||y.value.defaultTitle),o.map((t,o)=>{const e=s&&R.value===o;return(0,c.h)(a.Wt,{to:n(t),class:["slimsearch-result-item",{active:e,"aria-selected":e}],onClick:()=>{P(l.queries.join(" ")),L(t),M()}},()=>["text"===t.type?null:(0,c.h)("title"===t.type?r.T:"heading"===t.type?r.H:r.a,{class:"slimsearch-result-type"}),(0,c.h)("div",{class:"slimsearch-result-content"},["text"===t.type&&t.header?(0,c.h)("div",{class:"content-header"},t.header):null,(0,c.h)("div",E(t))])])})])})):y.value.emptyResult:H?S.value?[d?(0,c.h)("ul",{class:"slimsearch-result-list"},(0,c.h)("li",{class:"slimsearch-result-list-item"},[(0,c.h)("div",{class:"slimsearch-result-title"},y.value.queryHistory),j.value.map((l,o)=>(0,c.h)("div",{class:["slimsearch-result-item",{active:Q.isQuery&&Q.index===o}],onClick:()=>{t("updateQuery",l)}},[(0,c.h)(r.b,{class:"slimsearch-result-type"}),(0,c.h)("div",{class:"slimsearch-result-content"},l),(0,c.h)("button",{class:"slimsearch-remove-icon",innerHTML:r.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),_(o)}})]))])):null,k?(0,c.h)("ul",{class:"slimsearch-result-list"},(0,c.h)("li",{class:"slimsearch-result-list-item"},[(0,c.h)("div",{class:"slimsearch-result-title"},y.value.resultHistory),g.value.map((l,t)=>(0,c.h)(a.Wt,{to:l.link,class:["slimsearch-result-item",{active:!Q.isQuery&&Q.index===t}],onClick:()=>{M()}},()=>[(0,c.h)(r.b,{class:"slimsearch-result-type"}),(0,c.h)("div",{class:"slimsearch-result-content"},[l.header?(0,c.h)("div",{class:"content-header"},l.header):null,(0,c.h)("div",l.display.map(l=>A(l)).flat())]),(0,c.h)("button",{class:"slimsearch-remove-icon",innerHTML:r.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),D(t)}})]))])):null]:y.value.emptyHistory:y.value.emptyResult)}})}}]);